{
	"openapi": "3.0.1",
	"info": {
		"version": "1.0.0",
		"title": "Drink Master",
		"description": "Showing off swagger-ui-express",
		"license": {
			"name": "MIT",
			"url": "https://opensource.org/licenses/MIT"
		}
	},
	"consumes": ["application/json"],
	"produces": ["application/json"],
	"servers": [
		{ "url": "https://drink-master-backend-bcvr.onrender.com/api" },
		{ "url": "http://localhost:3000/api" }
	],
	"tags": [
		{
			"name": "Auth",
			"description": "Authorization endpoints"
		},
		{
			"name": "Recipes",
			"description": "Recipes endpoints"
		},
		{
			"name": "Favorite",
			"description": "Favorite recipes endpoints"
		},
		{
			"name": "My Recipes",
			"description": "My Recipes endpoints"
		},
		{
			"name": "Popular recipes",
			"description": "Popular recipes endpoints"
		},
		{
			"name": "Category list",
			"description": "Category list endpoints"
		},
		{
			"name": "Ingredients List",
			"description": "Ingredients list endpoints"
		},
		{
			"name": "Glass list",
			"description": "Glass list endpoints"
		},
		{
			"name": "Subscribe",
			"description": "Subscribe endpoints"
		}
	],
	"paths": {
		"/auth/signup": {
			"post": {
				"tags": ["Auth"],
				"summary": "User registration",
				"parameters": [],
				"requestBody": {
					"description": "Registration's object",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/RegistrationRequest"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/RegistrationResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request (invalid request body)",
						"content": {}
					},
					"409": {
						"description": "Email already exists",
						"content": {}
					},
					"500": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/auth/signin": {
			"post": {
				"tags": ["Auth"],
				"summary": "User login",
				"parameters": [],
				"requestBody": {
					"description": "Registration's object",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/LoginRequest"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/LoginResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request (invalid request body)",
						"content": {}
					},
					"404": {
						"description": "User not found",
						"content": {}
					},
					"500": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/auth/current": {
			"get": {
				"tags": ["Auth"],
				"summary": "User current",
				"parameters": [],
				"responses": {
					"201": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/CurrentResponse"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {}
					},
					"500": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/recipes": {
			"get": {
				"tags": ["Recipes"],
				"summary": "return a list of recipes",
				"parameters": [
					{
						"in": "query",
						"required": false,
						"name": "page",
						"type": "number",
						"description": "Number of page. Default: 1"
					},
					{
						"in": "query",
						"required": false,
						"name": "limit",
						"type": "number",
						"description": "How many recipes return in current page. Default: 10"
					}
				],

				"responses": {
					"200": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Recipes"
								}
							}
						}
					},
					"400": {
						"description": "Bad request (invalid request body)",
						"content": {}
					},
					"404": {
						"description": "Not found",
						"content": {}
					},
					"409": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/recipes/{id}": {
			"get": {
				"tags": ["Recipes"],
				"summary": "return a recipe by id",
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"type": "string",
						"description": "Id of recipe"
					}
				],

				"responses": {
					"200": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Recipes"
								}
							}
						}
					},
					"400": {
						"description": "Bad request (invalid request body)",
						"content": {}
					},
					"404": {
						"description": "Not found",
						"content": {}
					},
					"409": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/category": {
			"get": {
				"tags": ["Category list"],
				"summary": "return a list of categories",
				"security": [{ "Bearer": [] }],
				"responses": {
					"200": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/CategoryList"
								}
							}
						}
					},
					"404": {
						"description": "Not found",
						"content": {}
					},
					"409": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/glass": {
			"get": {
				"tags": ["Glass list"],
				"summary": "return a list of glasses",
				"security": [{ "Bearer": [] }],
				"responses": {
					"200": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GlassList"
								}
							}
						}
					},
					"404": {
						"description": "Not found",
						"content": {}
					},
					"409": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		},
		"/ingredients": {
			"get": {
				"tags": ["Ingredients List"],
				"summary": "return a list of ingedients",
				"security": [{ "Bearer": [] }],
				"responses": {
					"200": {
						"description": "Successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/IngredientsList"
								}
							}
						}
					},
					"404": {
						"description": "Not found",
						"content": {}
					},
					"409": {
						"description": "Server error",
						"content": {}
					}
				}
			}
		}
	},
	"components": {
		"schemas": {
			"RegistrationRequest": {
				"type": "object",
				"required": ["email", "password", "name"],
				"properties": {
					"name": {
						"type": "string",
						"description": "User's name",
						"example": "Alex"
					},
					"email": {
						"type": "string",
						"description": "User's email",
						"format": "email"
					},
					"password": {
						"type": "string",
						"description": "User's password",
						"example": "qwerty123"
					}
				}
			},
			"RegistrationResponse": {
				"type": "object",
				"properties": {
					"token": {
						"type": "string",
						"description": "Authentication token",
						"example": "wre35R4y3234.jdrit45fk4OrJ45.235wetKFF3460"
					},
					"user": {
						"type": "object",
						"properties": {
							"name": {
								"type": "string",
								"description": "User's name"
							},
							"email": {
								"type": "string",
								"description": "User's email",
								"format": "email"
							}
						},
						"example": {
							"name": "Alex",
							"email": "user@example.com"
						}
					}
				}
			},
			"LoginRequest": {
				"type": "object",
				"required": ["email", "password"],
				"properties": {
					"email": {
						"type": "string",
						"description": "User's email",
						"format": "email"
					},
					"password": {
						"type": "string",
						"description": "User's password",
						"example": "qwerty123"
					}
				}
			},
			"LoginResponse": {
				"type": "object",
				"properties": {
					"token": {
						"type": "string",
						"description": "Authentication token",
						"example": "wre35R4y3234.jdrit45fk4OrJ45.235wetKFF3460"
					},
					"user": {
						"type": "object",
						"properties": {
							"name": {
								"type": "string",
								"description": "User's name"
							},
							"email": {
								"type": "string",
								"description": "User's email",
								"format": "email"
							}
						},
						"example": {
							"name": "Alex",
							"email": "user@example.com"
						}
					}
				}
			},
			"CurrentResponse": {
				"type": "object",
				"properties": {
					"user": {
						"type": "object",
						"properties": {
							"name": {
								"type": "string",
								"description": "User's name"
							},
							"avatarURL": {
								"type": "string",
								"description": "User's avatar URL"
							},
							"email": {
								"type": "string",
								"description": "User's email",
								"format": "email"
							}
						},
						"example": {
							"name": "Alex",
							"email": "user@example.com",
							"avatarURL": "https://example.com/avatar1.jpg"
						}
					}
				}
			},
			"Recipes": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"_id": {
							"type": "string",
							"description": "Recipe's id",
							"example": "639b6de9ff77d221f190c570"
						},
						"drink": {
							"type": "string",
							"description": "Recipe's name",
							"example": "Dragonfly"
						},
						"category": {
							"type": "string",
							"description": "Category",
							"example": "Coffee / Tea"
						},
						"glass": {
							"type": "string",
							"description": "Type of glass",
							"example": "Irish coffee cup"
						},
						"instructions": {
							"type": "string",
							"description": "instructions how prepare coctail",
							"example": "Heat the coffee, whiskey and sugar; do not boil. Pour into glass and t…"
						},
						"drinkThumb": {
							"type": "string",
							"description": "image of coctail",
							"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689167155/cocktails…"
						},
						"ingredients": {
							"type": "array",
							"items": {
								"type": "object",
								"properties": {
									"_id": {
										"type": "string",
										"description": "Ingredient's id",
										"example": "64e9fa8d3c1392483f04d966"
									},
									"title": {
										"type": "string",
										"description": "Ingredient's name",
										"example": "Highball glass"
									},
									"ingredientThumb": {
										"type": "string",
										"description": "Image of ingredient",
										"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth.png"
									},
									"thumb-medium": {
										"type": "string",
										"description": "Image of ingredient medium",
										"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Medium.png"
									},
									"thumb-small": {
										"type": "string",
										"description": "Image of ingredient small",
										"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Small.png"
									},
									"measure": {
										"type": "string",
										"description": "Quantity",
										"example": "1 1/2 oz"
									}
								}
							}
						}
					}
				},
				"example": [
					{
						"_id": "639b6de9ff77d221f190c508",
						"drink": "Irish Coffee",
						"category": "Coffee / Tea",
						"glass": "Irish coffee cup",
						"instructions": "Heat the coffee, whiskey and sugar; do not boil. Pour into glass and top with cream; serve hot.",
						"drinkThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689167155/cocktails-v1/drinks/Irish_Coffee.jpg",
						"ingredients": [
							{
								"title": "Irish whiskey",
								"measure": "1 1/2 oz ",
								"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Irish%20whiskey.png",
								"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Irish%20whiskey-Medium.png",
								"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Irish%20whiskey-Small.png"
							},
							{
								"title": "Coffee",
								"measure": "8 oz ",
								"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Coffee.png",
								"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Coffee-Medium.png",
								"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Coffee-Small.png"
							},
							{
								"title": "Sugar",
								"measure": "1 tsp ",
								"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sugar.png",
								"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sugar-Medium.png",
								"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sugar-Small.png"
							},
							{
								"title": "Whipped cream",
								"measure": "1 tblsp "
							}
						]
					}
				]
			},
			"CategoryList": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"_id": {
							"type": "string",
							"description": "Category's id",
							"example": "64e918ad0bc777bb27ef9e26"
						},
						"name": {
							"type": "string",
							"description": "Category's name",
							"example": "Ordinary Drink"
						}
					}
				},
				"example": [
					{
						"_id": "64e918ad0bc777bb27ef9e26",
						"name": "Ordinary Drink"
					},
					{
						"_id": "64e918ad0bc777bb27ef9e27",
						"name": "Cocktail"
					},
					{
						"_id": "64e918ad0bc777bb27ef9e28",
						"name": "Shake"
					},
					{
						"_id": "64e918ad0bc777bb27ef9e29",
						"name": "Other/Unknown"
					}
				]
			},
			"GlassList": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"_id": {
							"type": "string",
							"description": "Glass's id",
							"example": "64e9fa8d3c1392483f04d966"
						},
						"name": {
							"type": "string",
							"description": "Glass's name",
							"example": "Highball glass"
						}
					}
				},
				"example": [
					{
						"_id": "64e9fa8d3c1392483f04d966",
						"name": "Highball glass"
					},
					{
						"_id": "64e9fa8d3c1392483f04d967",
						"name": "Cocktail glass"
					},
					{
						"_id": "64e9fa8d3c1392483f04d968",
						"name": "Old-fashioned glass"
					},
					{
						"_id": "64e9fa8d3c1392483f04d969",
						"name": "Whiskey Glass"
					}
				]
			},
			"IngredientsList": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"_id": {
							"type": "string",
							"description": "Ingredient's id",
							"example": "64e9fa8d3c1392483f04d966"
						},
						"title": {
							"type": "string",
							"description": "Ingredient's name",
							"example": "Highball glass"
						},
						"ingredientThumb": {
							"type": "string",
							"description": "Image of ingredient",
							"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth.png"
						},
						"thumb-medium": {
							"type": "string",
							"description": "Image of ingredient medium",
							"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Medium.png"
						},
						"thumb-small": {
							"type": "string",
							"description": "Image of ingredient small",
							"example": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Small.png"
						}
					}
				},
				"example": [
					{
						"_id": "64e781d9779d52dc8ef3fa35",
						"title": "Sweet Vermouth",
						"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth.png",
						"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Medium.png",
						"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169611/cocktails-v1/ingredient/Sweet%20Vermouth-Small.png"
					},
					{
						"_id": "64e781d9779d52dc8ef3fa3e",
						"title": "Blended whiskey",
						"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169604/cocktails-v1/ingredient/Blended%20whiskey.png",
						"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169604/cocktails-v1/ingredient/Blended%20whiskey-Medium.png",
						"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169604/cocktails-v1/ingredient/Blended%20whiskey-Small.png"
					},
					{
						"_id": "64e781d9779d52dc8ef3fa31",
						"title": "Light rum",
						"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Light%20rum.png",
						"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Light%20rum-Medium.png",
						"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169605/cocktails-v1/ingredient/Light%20rum-Small.png"
					},
					{
						"_id": "64e781d9779d52dc8ef3fa36",
						"title": "Strawberry schnapps",
						"ingredientThumb": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169610/cocktails-v1/ingredient/Strawberry%20schnapps.png",
						"thumb-medium": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169610/cocktails-v1/ingredient/Strawberry%20schnapps-Medium.png",
						"thumb-small": "http://res.cloudinary.com/dec1shvoo/image/upload/v1689169610/cocktails-v1/ingredient/Strawberry%20schnapps-Small.png"
					}
				]
			}
		},
		"securitySchemes": {
			"Bearer": {
				"type": "http",
				"scheme": "bearer",
				"bearerFormat": "JWT"
			}
		}
	}
}
